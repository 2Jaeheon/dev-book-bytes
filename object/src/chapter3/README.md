# 다시 객체지향의 사실과 오해로

객사오에서 학습했던 내용들을 바탕으로 다시 이전 챕터에서 만든 예제를 바탕으로 역할, 책임, 협력에 관해서 설명한다. 객체지향의 사실과 오해를 열심히 학습했기 때문에 더욱 쉽게
읽혔다. 역시 무언가를 배운다는 것은 세상을 바라보는 시야를 넓혀준다는 말에 전적으로 동의하는 바다.

객사오의 핵심은 명확하다. 역할, 책임, 협력 이 세 가지를 바탕으로 객체지향 프로그래밍을 하면 된다. 하지만 객사오는 추상적으로 설명했지만, 오브젝트에서의 역할, 책임, 협력은
코드와 함께 설명하기에 더욱 이해하기 쉬웠다. 소프트웨어는 이론보다 실무가 앞선다는 한 학자의 말이 정말로 맞는 것 같다. 역시 개발자는 코드로 이야기해야 이해가 쉬운 것 같다.

우리는 이전 챕터에서 다양한 프로그래밍 기법들(지연 바인딩, 클래스, 상속)을 배웠지만, 본질은 객체의 협력이다. 우리는 객체들끼리 협력해서 소비자가 원하는 바를 제공해 줘야
한다.

# 협력

협력은 객체들끼리 특정 기능을 구현하기 위해서 수행하는 상호작용을 일컫는다. 그리고 이 협력 과정에서 수행하는 것이 바로 책임이다. 그리고 이 책임들이 모여 하나의 역할이 된다.

협력이 이루어지기 위해서는 객체들끼리 메시지를 보내야한다. 객체는 오직 메시지를 통해서만 협력에 참여할 수 있으며, 수신한 메시지를 수행하는 구체적인 방법이 메서드이다.

또한 협력이 행동을 결정하고, 행동은 상태를 결정한다. 즉, 협력은 설계에서의 문맥을 제공해 준다.

# 책임

책임은 협력 내에서 수행하는 행동이다. 책임은 아는 것과 하는 것으로 나뉜다. 또한 대부분의 경우 아는 것과 하는 것은 밀접하게 관련되어있다.

즉, 협력 과정에서 객체들은 자신에게 주어진 책임을 명확히 수행해야 하기 때문에, 객체에게 적절한 책임을 할당해야만 한다. 책임할당의 기본 대전제는 책임을 수행하는데 정보를 가장
잘
알고있는 것에게 책임을 할당하는 것이다. 이를 `INFORMATION EXPERT` 패턴이라고 한다.

책임을 할당하는 보통의 순서는 시스템의 유저에게 제공하는 기능을 시스템의 하나의 책임으로 바라보고 시작하는 것이다. 그리고 시스템의 책임을 수행하기 위해서 필요한 책임을 찾고 그에
따라서 객체에게 책임을 부여하는 과정을 계속해서 반복하며 만들어진다. 이렇게 만드는 방식을 RDD (Responsibility Driven Design) 이라고 한다.

또한 메시지를 먼저 식별하고 메시지를 처리할 객체를 나중에 선택해야만 한다. 이를 통해서 최소 인터페이스 원칙과, 추상 인터페이스의 원칙을 준수할 수 있다.

# 역할

역할은 객체가 협력 내에서 수행하는 책임의 집합이다.

역할은 재사용 가능하고 유연해지기 때문이다. 같은 책임을 하나의 역할로 구분한다면 여러 개의 객체를 따로따로 만들 필요가 없으며, 객체의 재사용성이 매우 높아지며, 추상화가
가능해진다.

하지만 객체와 역할에 관해서 스터디 과제를 진행하면서 알았지만, 그렇다면 하나의 객체만 협력에 참여한다면 역할을 사용할 필요가 있을까? 에 대해서 고민해본 적이 있었는데, 이
경우에는 하나의 객체로만 간주를 해도 된다고 한다.

# 소감문

챕터3의 모든 내용이 객사오를 읽으며 길게 학습했던 것들이라 반가웠고, 쉽게 읽혀 좋았다. 사실,,, 다이어그램도 그리고 잘 진행하고 싶었지만, 모두 아는 내용이기에 빠르게
넘어가도록 했다. 사실,,, 할 말이 별로 없다. 그냥 챕터 2만 복습해야겠다.